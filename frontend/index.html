<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Doc Verifier ‚Äî Verifica√ß√£o de Documentos de Importa√ß√£o</title>
    <link rel="icon" type="image/png" href="ai-doc-logo.png">
    <meta name="description"
        content="Agente de intelig√™ncia artificial para verifica√ß√£o autom√°tica de documentos de importa√ß√£o: BL, Commercial Invoice e Packing List.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <style>
        /* --------------------------------------------------------
   TOKENS
-------------------------------------------------------- */
        :root {
            --bg: #0c0c0e;
            --bg-2: #111115;
            --bg-3: #18181d;
            --border: rgba(255, 255, 255, 0.07);
            --border-2: rgba(255, 255, 255, 0.12);
            --text: #f0f0f2;
            --text-2: #a0a0b0;
            --text-3: #606070;
            --brand: #ff6363;
            --brand-2: #ff8c5a;
            --brand-3: #c44bff;
            --blue: #4b8eff;
            --green: #3ecf8e;
            --green-bg: rgba(62, 207, 142, 0.1);
            --green-br: rgba(62, 207, 142, 0.25);
            --red: #f06060;
            --red-bg: rgba(240, 96, 96, 0.1);
            --red-br: rgba(240, 96, 96, 0.25);
            --amber: #f0a040;

            --r-sm: 6px;
            --r: 12px;
            --r-lg: 20px;
            --r-xl: 28px;
            --ease: cubic-bezier(.4, 0, .2, 1);
        }

        /* --------------------------------------------------------
   RESET
-------------------------------------------------------- */
        *,
        *::before,
        *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0
        }

        html {
            scroll-behavior: smooth
        }

        body {
            font-family: 'Inter', system-ui, sans-serif;
            background: var(--bg);
            color: var(--text);
            -webkit-font-smoothing: antialiased;
            overflow-x: hidden;
        }

        /* --------------------------------------------------------
   UTILITIES
-------------------------------------------------------- */
        .wrap {
            max-width: 1100px;
            margin: 0 auto;
            padding: 0 28px
        }

        .wrap-sm {
            max-width: 780px;
            margin: 0 auto;
            padding: 0 28px
        }

        .text-grad {
            background: linear-gradient(135deg, #fff 0%, #c0b8ff 40%, var(--brand) 75%, var(--brand-2) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .spacer-xs {
            height: 12px
        }

        .spacer-sm {
            height: 24px
        }

        .spacer {
            height: 48px
        }

        .spacer-lg {
            height: 80px
        }

        .spacer-xl {
            height: 120px
        }

        /* --------------------------------------------------------
   NAVBAR
-------------------------------------------------------- */
        .nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 200;
            height: 60px;
            display: flex;
            align-items: center;
            border-bottom: 1px solid var(--border);
            background: rgba(12, 12, 14, .75);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
        }

        .nav .wrap {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
        }

        .nav-logo {
            display: flex;
            align-items: center;
            gap: 4px;
            font-weight: 800;
            font-size: 19.5px;
            letter-spacing: -.04em;
            color: #fff;
            text-decoration: none;
            flex: 0.865;
        }

        .nav-logo-icon {
            width: 30px;
            height: 30px;
            border-radius: 8px;
            background: linear-gradient(135deg, var(--brand), var(--brand-3));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 15px;
        }

        .nav-links {
            display: flex;
            align-items: center;
            gap: 28px;
        }

        .nav-links a {
            font-size: 13px;
            font-weight: 500;
            color: var(--text-2);
            text-decoration: none;
            transition: .2s;
        }

        .nav-links a:hover {
            color: #fff;
        }

        .nav-right {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .nav-status {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 4px 12px;
            border-radius: 99px;
            font-size: 12px;
            font-weight: 600;
            border: 1px solid;
            transition: .2s;
        }

        .nav-status.loading {
            background: rgba(160, 160, 176, .08);
            border-color: rgba(160, 160, 176, .2);
            color: var(--text-2);
        }

        .nav-status.ok {
            background: var(--green-bg);
            border-color: var(--green-br);
            color: var(--green);
        }

        .nav-status.err {
            background: var(--red-bg);
            border-color: var(--red-br);
            color: var(--red);
        }

        .nav-status .dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: currentColor;
        }

        .nav-status .dot.blink {
            animation: blink 1.4s infinite
        }

        @keyframes blink {

            0%,
            100% {
                opacity: 1
            }

            50% {
                opacity: .25
            }
        }

        .btn-start {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 8px 18px;
            border-radius: var(--r-sm);
            font-size: 13px;
            font-weight: 700;
            background: linear-gradient(135deg, var(--brand), var(--brand-2));
            color: #fff;
            border: none;
            cursor: pointer;
            transition: .2s var(--ease);
            box-shadow: 0 4px 16px rgba(255, 99, 99, .25);
            text-decoration: none;
        }

        .btn-start:hover {
            transform: translateY(-1px);
            box-shadow: 0 8px 24px rgba(255, 99, 99, .35);
        }

        /* --------------------------------------------------------
   HERO
-------------------------------------------------------- */
        .hero {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 100px 28px 80px;
            position: relative;
        }

        .hero-glow {
            position: absolute;
            top: -10%;
            left: 50%;
            transform: translateX(-50%);
            width: 800px;
            height: 500px;
            background: radial-gradient(ellipse at 50% 0%, rgba(196, 75, 255, .12) 0%, transparent 70%);
            pointer-events: none;
        }

        .hero-glow-2 {
            position: absolute;
            bottom: -5%;
            left: 50%;
            transform: translateX(-50%);
            width: 600px;
            height: 300px;
            background: radial-gradient(ellipse at 50% 100%, rgba(255, 99, 99, .08) 0%, transparent 70%);
            pointer-events: none;
        }

        .hero-eyebrow {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            margin-bottom: 24px;
            padding: 5px 14px;
            border-radius: 99px;
            background: rgba(255, 255, 255, .05);
            border: 1px solid var(--border-2);
            font-size: 12px;
            font-weight: 600;
            color: var(--text-2);
            letter-spacing: .04em;
        }

        .hero-eyebrow .dot-brand {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--brand), var(--brand-2));
        }

        .hero h1 {
            font-size: clamp(36px, 6.5vw, 72px);
            font-weight: 900;
            line-height: 1.2;
            letter-spacing: -.04em;
            margin-bottom: 72px;
            max-width: 860px;
        }

        .hero p {
            font-size: clamp(16px, 2vw, 19px);
            color: var(--text-2);
            max-width: 540px;
            margin: 0 auto 40px;
            line-height: 1.7;
        }

        .hero-actions {
            display: flex;
            align-items: center;
            gap: 14px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .btn-hero-primary {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 14px 28px;
            border-radius: var(--r);
            font-size: 15px;
            font-weight: 700;
            background: #1c1c28;
            color: #fff;
            border: 1px solid rgba(255, 99, 99, 0.5);
            cursor: pointer;
            text-decoration: none;
            box-shadow: 0 0 0 1px rgba(255, 99, 99, 0.15), 0 8px 28px rgba(255, 99, 99, .2);
            transition: .2s var(--ease);

        }

        .btn-hero-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 40px rgba(255, 99, 99, .4);
        }

        .btn-hero-ghost {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 13px 24px;
            border-radius: var(--r);
            font-size: 15px;
            font-weight: 600;
            background: rgba(255, 255, 255, .07);
            color: var(--text);
            border: 1px solid var(--border-2);
            cursor: pointer;
            text-decoration: none;
            transition: .2s var(--ease);
        }

        .btn-hero-ghost:hover {
            background: rgba(255, 255, 255, .1);
        }

        .hero-badge-row {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 32px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            padding: 5px 12px;
            border-radius: 99px;
            background: rgba(255, 255, 255, .04);
            border: 1px solid var(--border);
            font-size: 12px;
            font-weight: 500;
            color: var(--text-2);
        }

        /* ‚îÄ‚îÄ Animated receipt card ‚îÄ‚îÄ */
        .hero-card-wrap {
            margin-top: 60px;
            position: relative;
            max-width: 700px;
            width: 100%;
        }

        .hero-card {
            background: var(--bg-2);
            border: 1px solid var(--border-2);
            border-radius: var(--r-xl);
            padding: 28px;
            box-shadow: 0 40px 80px rgba(0, 0, 0, .5), 0 0 0 1px rgba(255, 255, 255, .04) inset;
            text-align: left;
            position: relative;
            overflow: hidden;
        }

        .hero-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, .12), transparent);
        }

        .hero-card-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 1px solid var(--border);
        }

        .hc-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }

        .hero-card-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid var(--border);
            font-size: 13px;
        }

        .hero-card-row:last-child {
            border-bottom: none;
            padding-bottom: 0;
        }

        .hc-label {
            color: var(--text-2);
            font-weight: 500;
        }

        .hc-val {
            font-weight: 700;
            font-size: 13px;
        }

        .hc-match {
            color: var(--green);
        }

        .hc-miss {
            color: var(--red);
        }

        .badge-row-mini {
            display: flex;
            align-items: center;
            gap: 6px;
            margin-top: 16px;
        }

        .badge-mini {
            padding: 3px 10px;
            border-radius: 99px;
            font-size: 11px;
            font-weight: 700;
        }

        .badge-mini.match {
            background: var(--green-bg);
            border: 1px solid var(--green-br);
            color: var(--green);
        }

        .badge-mini.miss {
            background: var(--red-bg);
            border: 1px solid var(--red-br);
            color: var(--red);
        }

        /* --------------------------------------------------------
   SECTIONS COMMON
-------------------------------------------------------- */
        section {
            padding: 100px 0;
        }

        .section-eyebrow {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            margin-bottom: 16px;
            padding: 4px 12px;
            border-radius: 99px;
            background: rgba(255, 255, 255, .05);
            border: 1px solid var(--border-2);
            font-size: 11px;
            font-weight: 700;
            letter-spacing: .06em;
            text-transform: uppercase;
            color: var(--text-2);
        }

        .section-title {
            font-size: clamp(28px, 4.5vw, 46px);
            font-weight: 900;
            letter-spacing: -.04em;
            line-height: 1.1;
            margin-bottom: 16px;
        }

        .section-sub {
            font-size: 17px;
            color: var(--text-2);
            line-height: 1.7;
            max-width: 560px;
        }

        /* --------------------------------------------------------
   ABOUT / WHAT IS
-------------------------------------------------------- */
        .about-sect {
            background: var(--bg);
            border-top: 1px solid var(--border);
            border-bottom: 1px solid var(--border);
        }

        .about-inner {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            align-items: center;
        }

        .about-visual {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 14px;
        }

        .about-card {
            background: var(--bg-2);
            border: 1px solid var(--border);
            border-radius: var(--r-lg);
            padding: 22px;
            transition: .25s var(--ease);
        }

        .about-card:hover {
            border-color: var(--border-2);
            background: var(--bg-3);
        }

        .about-card .ac-icon {
            font-size: 24px;
            margin-bottom: 12px;
        }

        .about-card .ac-title {
            font-size: 13px;
            font-weight: 700;
            margin-bottom: 4px;
        }

        .about-card .ac-sub {
            font-size: 12px;
            color: var(--text-2);
            line-height: 1.5;
        }

        .about-card.wide {
            grid-column: 1/-1;
        }

        /* --------------------------------------------------------
   HOW IT WORKS
-------------------------------------------------------- */
        .how-sect {
            background: var(--bg-2);
        }

        .how-steps {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2px;
            background: var(--border);
            border-radius: var(--r-lg);
            overflow: hidden;
            margin-top: 48px;
        }

        .how-step {
            background: var(--bg-2);
            padding: 36px 28px;
            transition: .25s var(--ease);
            position: relative;
        }

        .how-step:hover {
            background: var(--bg-3);
        }

        .how-step-num {
            font-size: 11px;
            font-weight: 800;
            letter-spacing: .1em;
            text-transform: uppercase;
            color: var(--brand);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .how-step-num::after {
            content: '';
            flex: 1;
            height: 1px;
            background: linear-gradient(90deg, rgba(255, 99, 99, .3), transparent);
        }

        .how-step h3 {
            font-size: 18px;
            font-weight: 800;
            margin-bottom: 10px;
            letter-spacing: -.02em;
        }

        .how-step p {
            font-size: 14px;
            color: var(--text-2);
            line-height: 1.65;
        }

        .how-step .step-icon {
            font-size: 32px;
            margin-bottom: 20px;
            display: block;
        }

        /* --------------------------------------------------------
   HOW TO USE
-------------------------------------------------------- */
        .use-sect {
            background: var(--bg);
        }

        .use-list {
            margin-top: 48px;
            display: flex;
            flex-direction: column;
            gap: 0;
        }

        .use-item {
            display: flex;
            align-items: flex-start;
            gap: 24px;
            padding: 28px 0;
            border-bottom: 1px solid var(--border);
        }

        .use-item:last-child {
            border-bottom: none;
        }

        .use-num {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            flex-shrink: 0;
            background: linear-gradient(135deg, var(--brand), var(--brand-2));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 900;
            color: #fff;
            box-shadow: 0 4px 12px rgba(255, 99, 99, .3);
        }

        .use-content h3 {
            font-size: 17px;
            font-weight: 700;
            margin-bottom: 6px;
            letter-spacing: -.02em;
        }

        .use-content p {
            font-size: 14px;
            color: var(--text-2);
            line-height: 1.65;
        }

        .use-tag {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            margin-top: 8px;
            padding: 3px 10px;
            border-radius: 99px;
            font-size: 11px;
            font-weight: 600;
            background: rgba(255, 255, 255, .05);
            border: 1px solid var(--border);
            color: var(--text-2);
        }

        /* --------------------------------------------------------
   APP SECTION (the real tool)
-------------------------------------------------------- */
        .app-sect {
            background: var(--bg-2);
            border-top: 1px solid var(--border);
            padding: 80px 0;
        }

        .app-inner {
            background: var(--bg);
            border: 1px solid var(--border-2);
            border-radius: var(--r-xl);
            overflow: hidden;
            box-shadow: 0 40px 80px rgba(0, 0, 0, .4);
            position: relative;
        }

        .app-inner::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, .1), transparent);
        }

        .app-top-bar {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px 28px;
            border-bottom: 1px solid var(--border);
            background: var(--bg-2);
        }

        .app-top-title {
            font-size: 15px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .app-top-status {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .app-body {
            padding: 32px;
        }

        /* Upload */
        .upload-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 14px;
            margin-bottom: 20px;
        }

        .upload-slot {
            background: var(--bg-2);
            border: 1.5px dashed rgba(255, 255, 255, .14);
            border-radius: var(--r);
            padding: 24px 16px;
            text-align: center;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            transition: .25s var(--ease);
            position: relative;
            overflow: hidden;
        }

        .upload-slot::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(255, 99, 99, .04), transparent);
            opacity: 0;
            transition: .25s;
        }

        .upload-slot:hover {
            border-color: var(--brand);
            background: rgba(255, 99, 99, .04);
        }

        .upload-slot:hover::before {
            opacity: 1;
        }

        .upload-slot.has-file {
            border-style: solid;
            border-color: var(--green);
            background: rgba(62, 207, 142, .05);
        }

        .upload-slot-icon {
            width: 46px;
            height: 46px;
            border-radius: 12px;
            font-size: 20px;
            background: rgba(255, 255, 255, .06);
            border: 1px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: .25s;
        }

        .upload-slot.has-file .upload-slot-icon {
            background: var(--green-bg);
            border-color: var(--green-br);
        }

        .upload-slot-label {
            font-size: 13px;
            font-weight: 700;
        }

        .upload-slot-hint {
            font-size: 11px;
            color: var(--text-2);
        }

        .upload-optional {
            font-size: 9px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: .05em;
            padding: 2px 7px;
            border-radius: 99px;
            background: rgba(240, 160, 64, .1);
            border: 1px solid rgba(240, 160, 64, .25);
            color: var(--amber);
        }

        .upload-fname {
            font-size: 10px;
            font-weight: 600;
            color: var(--green);
            background: rgba(62, 207, 142, .1);
            border: 1px solid var(--green-br);
            border-radius: 4px;
            padding: 2px 8px;
            max-width: 100%;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            display: none;
        }

        input[type=file] {
            display: none
        }

        /* Process Button */
        .btn-process {
            width: 100%;
            padding: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-size: 14px;
            font-weight: 700;
            background: linear-gradient(135deg, var(--brand), var(--brand-2));
            color: #fff;
            border: none;
            border-radius: var(--r);
            cursor: pointer;
            box-shadow: 0 6px 20px rgba(255, 99, 99, .25);
            transition: .2s var(--ease);
            position: relative;
            overflow: hidden;
        }

        .btn-process::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(to bottom, rgba(255, 255, 255, .08), transparent);
            pointer-events: none;
        }

        .btn-process:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 10px 28px rgba(255, 99, 99, .35);
        }

        .btn-process:disabled {
            background: var(--bg-3);
            color: var(--text-3);
            box-shadow: none;
            cursor: not-allowed;
        }

        /* Loader */
        .loader {
            display: none;
            text-align: center;
            padding: 48px 0;
            animation: fadeUp .3s
        }

        .loader.show {
            display: block
        }

        .spinner {
            width: 48px;
            height: 48px;
            margin: 0 auto 16px;
            border-radius: 50%;
            border: 2.5px solid rgba(255, 99, 99, .15);
            border-top-color: var(--brand);
            border-right-color: var(--brand-2);
            animation: spin .8s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg)
            }
        }

        @keyframes fadeUp {
            from {
                opacity: 0;
                transform: translateY(10px)
            }

            to {
                opacity: 1;
                transform: translateY(0)
            }
        }

        .loader-headline {
            font-size: 17px;
            font-weight: 800;
            margin-bottom: 6px;
        }

        .loader-hint {
            font-size: 13px;
            color: var(--text-2);
        }

        /* Results */
        .results {
            display: none;
            margin-top: 28px;
            animation: fadeUp .4s
        }

        .results.show {
            display: block
        }

        .score-bar {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 24px;
        }

        .score-chip {
            background: var(--bg-2);
            border: 1px solid var(--border);
            border-radius: var(--r);
            padding: 18px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .score-chip::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
        }

        .score-chip.total::before {
            background: linear-gradient(90deg, var(--brand), var(--brand-3));
        }

        .score-chip.ok::before {
            background: var(--green);
        }

        .score-chip.fail::before {
            background: var(--red);
        }

        .score-n {
            font-size: 32px;
            font-weight: 900;
            letter-spacing: -.04em;
            line-height: 1;
            margin-bottom: 4px;
        }

        .score-chip.total .score-n {
            color: var(--brand);
        }

        .score-chip.ok .score-n {
            color: var(--green);
        }

        .score-chip.fail .score-n {
            color: var(--red);
        }

        .score-l {
            font-size: 10px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: .06em;
            color: var(--text-3);
        }

        /* CNPJ */
        .cnpj-block {
            background: var(--bg-2);
            border: 1px solid var(--border);
            border-radius: var(--r);
            margin-bottom: 18px;
            overflow: hidden;
        }

        .cnpj-block-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 14px 18px;
            border-bottom: 1px solid var(--border);
            font-size: 13px;
            font-weight: 700;
        }

        .cnpj-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
        }

        .cnpj-f {
            padding: 12px 16px;
            border-right: 1px solid var(--border);
            border-bottom: 1px solid var(--border);
        }

        .f-l {
            font-size: 9px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: .07em;
            color: var(--text-3);
            margin-bottom: 3px;
        }

        .f-v {
            font-size: 12px;
            font-weight: 700;
        }

        .f-v.null {
            color: var(--text-3);
            font-style: italic;
            font-weight: 400;
        }

        /* Doc cards */
        .doc-card {
            background: var(--bg-2);
            border: 1px solid var(--border);
            border-radius: var(--r);
            margin-bottom: 14px;
            overflow: hidden;
            transition: .2s;
        }

        .doc-card:hover {
            border-color: var(--border-2);
        }

        .doc-card-head {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 14px 18px;
            border-bottom: 1px solid var(--border);
        }

        .doc-card-title {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
            font-weight: 700;
        }

        .type-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }

        .bl-dot {
            background: #60a5fa;
            box-shadow: 0 0 6px rgba(96, 165, 250, .5);
        }

        .inv-dot {
            background: var(--green);
            box-shadow: 0 0 6px rgba(62, 207, 142, .5);
        }

        .pk-dot {
            background: var(--amber);
            box-shadow: 0 0 6px rgba(240, 160, 64, .5);
        }

        .method-badge {
            font-size: 9px;
            font-weight: 700;
            letter-spacing: .05em;
            text-transform: uppercase;
            padding: 2px 8px;
            border-radius: 4px;
            background: rgba(255, 255, 255, .06);
            border: 1px solid var(--border);
            color: var(--text-2);
        }

        .doc-fields {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 0;
            background: var(--border);
        }

        .doc-f {
            padding: 11px 16px;
            background: var(--bg-2);
            transition: background .15s;
        }

        .doc-f:hover {
            background: var(--bg-3);
        }

        .doc-f .f-l {
            margin-bottom: 3px;
        }

        .doc-f .f-v {
            font-size: 12px;
            font-weight: 600;
            word-break: break-all;
        }

        /* Comparison */
        .cmp-block {
            background: var(--bg-2);
            border: 1px solid var(--border);
            border-radius: var(--r);
            overflow: hidden;
            margin-top: 18px;
        }

        .cmp-block-head {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 14px 18px;
            border-bottom: 1px solid var(--border);
            font-size: 13px;
            font-weight: 700;
        }

        .cmp-scroll {
            overflow-x: auto;
        }

        .cmp-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 12px;
        }

        .cmp-table thead th {
            padding: 10px 16px;
            background: rgba(0, 0, 0, .2);
            font-size: 10px;
            font-weight: 700;
            letter-spacing: .06em;
            text-transform: uppercase;
            color: var(--text-3);
            text-align: left;
            border-bottom: 1px solid var(--border);
            white-space: nowrap;
        }

        .cmp-table tbody tr {
            border-bottom: 1px solid rgba(255, 255, 255, .04);
            transition: background .15s;
        }

        .cmp-table tbody tr:hover {
            background: rgba(255, 255, 255, .02);
        }

        .cmp-table td {
            padding: 11px 16px;
            color: var(--text-2);
            vertical-align: middle;
        }

        .cmp-table td:first-child {
            font-weight: 600;
            color: var(--text);
            font-size: 11px;
            white-space: nowrap;
        }

        .rbadge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 2px 9px;
            border-radius: 99px;
            font-size: 9px;
            font-weight: 800;
            letter-spacing: .04em;
            text-transform: uppercase;
        }

        .rbadge.match {
            background: var(--green-bg);
            border: 1px solid var(--green-br);
            color: var(--green);
        }

        .rbadge.mismatch {
            background: var(--red-bg);
            border: 1px solid var(--red-br);
            color: var(--red);
        }

        /* Action bar */
        .action-bar {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 20px;
            padding-top: 18px;
            border-top: 1px solid var(--border);
        }

        .btn-ghost {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 8px 16px;
            border-radius: var(--r-sm);
            font-size: 12px;
            font-weight: 600;
            background: transparent;
            border: 1px solid var(--border);
            color: var(--text-2);
            cursor: pointer;
            transition: .2s;
        }

        .btn-ghost:hover {
            border-color: var(--border-2);
            background: rgba(255, 255, 255, .05);
            color: var(--text);
        }

        /* --------------------------------------------------------
   FOOTER
-------------------------------------------------------- */
        footer {
            padding: 40px 28px;
            text-align: center;
            border-top: 1px solid var(--border);
        }

        footer p {
            font-size: 12px;
            color: var(--text-3);
        }

        footer strong {
            color: var(--text-2);
        }

        /* --------------------------------------------------------
   RESPONSIVE
-------------------------------------------------------- */
        @media(max-width:768px) {
            .about-inner {
                grid-template-columns: 1fr;
            }

            .about-visual {
                order: -1;
            }

            .how-steps {
                grid-template-columns: 1fr;
            }

            .upload-grid {
                grid-template-columns: 1fr;
            }

            .score-bar {
                grid-template-columns: 1fr;
            }

            .nav-links {
                display: none;
            }

            .hero h1 {
                font-size: 36px;
            }
        }

        .section-centered {
            text-align: center;
            margin-bottom: 0;
        }

        .section-centered .section-sub {
            margin: 0 auto;
        }
    </style>
</head>

<body>

    <!-- ‚ñë‚ñë NAVBAR ‚ñë‚ñë -->
    <nav class="nav">
        <div class="wrap">
            <a class="nav-logo" href="#">
                <img src="ai-doc-logo.png" alt="DocVerify AI Logo"
                    style="width:40px;height:40px;border-radius:8px;object-fit:cover;flex-shrink:0;">
                <span style="color:var(--brand)">AI</span>&thinsp;DocVerifier
            </a>
            <div class="nav-links">
                <a href="#about">O que √©?</a>
                <a href="#how">Como funciona? </a>
                <a href="#use">Como usar?</a>
                <a href="#app">Abrir App</a>
            </div>
            <div class="nav-right">
                <span class="nav-status loading" id="statusPill">
                    <span class="dot blink"></span>
                    Conectando...
                </span>
                <a class="btn-start" href="#app">Come√ßar ‚Üí</a>
            </div>
        </div>
    </nav>

    <!-- ‚ñë‚ñë HERO ‚ñë‚ñë -->
    <section class="hero" id="hero">
        <div class="hero-glow"></div>
        <div class="hero-glow-2"></div>

        <div class="hero-eyebrow">
            <span class="dot-brand"></span>
            Agente de IA para Com√©rcio Exterior
        </div>

        <h1 class="text-grad">Verifica√ß√£o de<br>documentos em<br>segundos.</h1>

        <p>Fa√ßa upload dos seus documentos de importa√ß√£o e um agente de IA extrai, compara e valida os dados
            automaticamente ‚Äî como um despachante aduaneiro digital.</p>

        <div class="hero-actions">
            <a class="btn-hero-primary" href="#app">‚ö° Verificar meus documentos</a>
            <a class="btn-hero-ghost" href="#how">Como funciona ? </a>
        </div>

        <div class="hero-badge-row">
            <div class="hero-badge">üìÑ Bill of Lading</div>
            <div class="hero-badge">üìã Commercial Invoice</div>
            <div class="hero-badge">üì¶ Packing List</div>
            <div class="hero-badge">üè¢ Valida√ß√£o CNPJ</div>
        </div>

        <!-- Preview card -->
        <div class="hero-card-wrap">
            <div class="hero-card">
                <div class="hero-card-header">
                    <span class="hc-dot" style="background:#f06060;"></span>
                    <span class="hc-dot" style="background:#f0a040;margin:0 4px;"></span>
                    <span class="hc-dot" style="background:#3ecf8e;"></span>
                    <span style="font-size:11px;font-weight:700;color:var(--text-2);margin-left:10px;">Relat√≥rio de
                        Verifica√ß√£o ‚Äî Mar√ßo 2025</span>
                </div>
                <div class="hero-card-row">
                    <span class="hc-label">Shipper</span>
                    <span class="hc-val hc-match">‚úì Global Machinery Co Ltd</span>
                </div>
                <div class="hero-card-row">
                    <span class="hc-label">Consignee</span>
                    <span class="hc-val hc-match">‚úì Importadora Brasil Ltda</span>
                </div>
                <div class="hero-card-row">
                    <span class="hc-label">CNPJ</span>
                    <span class="hc-val hc-match">‚úì 12.345.678/0001-90 ‚Äî Ativo</span>
                </div>
                <div class="hero-card-row">
                    <span class="hc-label">NCM (BL vs Invoice)</span>
                    <span class="hc-val hc-miss">‚úó 8438.10.00 ‚â† 8438.90.00</span>
                </div>
                <div class="hero-card-row">
                    <span class="hc-label">Peso Bruto</span>
                    <span class="hc-val hc-match">‚úì 4.820 kg ‚Äî Conferido</span>
                </div>
                <div class="badge-row-mini">
                    <span class="badge-mini match">4 Conformes</span>
                    <span class="badge-mini miss">1 Diverg√™ncia</span>
                </div>
            </div>
        </div>
    </section>

    <!-- ‚ñë‚ñë ABOUT ‚ñë‚ñë -->
    <section class="about-sect" id="about">
        <div class="wrap">
            <div class="about-inner">
                <div>
                    <div class="section-eyebrow">O que √©</div>
                    <h2 class="section-title">Um agente de IA<br>que read documentos<br>como um auditor.</h2>
                    <p class="section-sub">DocVerify AI √© um agente de intelig√™ncia artificial especializado em
                        documentos de importa√ß√£o. Ele usa o Gemini AI da Google para ler, extrair e comparar dados de
                        BL, Invoice e Packing List, detectando automaticamente diverg√™ncias que poderiam causar
                        problemas na Receita Federal.</p>
                    <div class="spacer-sm"></div>
                    <p class="section-sub" style="font-size:15px;">Pense nele como um <strong
                            style="color:#fff">despachante aduaneiro digital</strong> que trabalha em segundos, sem
                        erros humanos.</p>
                </div>
                <div class="about-visual">
                    <div class="about-card">
                        <div class="ac-icon">ü§ñ</div>
                        <div class="ac-title">Agente de IA</div>
                        <div class="ac-sub">Modelo Gemini 2.5 Flash com vis√£o ‚Äî l√™ PDFs, imagens e Excel.</div>
                    </div>
                    <div class="about-card">
                        <div class="ac-icon">üîç</div>
                        <div class="ac-title">Extra√ß√£o Precisa</div>
                        <div class="ac-sub">Extrai NCM, CNPJ, peso, CBM e nomes de empresas com regras r√≠gidas.</div>
                    </div>
                    <div class="about-card">
                        <div class="ac-icon">‚öñÔ∏è</div>
                        <div class="ac-title">Compara√ß√£o Cruzada</div>
                        <div class="ac-sub">Compara dados entre BL, Invoice e Packing List lado a lado.</div>
                    </div>
                    <div class="about-card">
                        <div class="ac-icon">üè¢</div>
                        <div class="ac-title">Valida√ß√£o CNPJ</div>
                        <div class="ac-sub">Consulta o CNPJ diretamente na base da Receita Federal em tempo real.</div>
                    </div>
                    <div class="about-card wide">
                        <div class="ac-icon">üõÉ</div>
                        <div class="ac-title">Compliance Aduaneiro</div>
                        <div class="ac-sub">Treinado com regras de extra√ß√£o baseadas em auditoria da Receita Federal.
                            Sem alucina√ß√µes, sem inven√ß√£o de dados.</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ‚ñë‚ñë HOW IT WORKS ‚ñë‚ñë -->
    <section class="how-sect" id="how">
        <div class="wrap">
            <div class="section-centered">
                <div class="section-eyebrow">Como funciona</div>
                <h2 class="section-title">IA com regras de auditor<br>da Receita Federal.</h2>
                <p class="section-sub">O agente segue um protocolo estrito de extra√ß√£o ‚Äî nunca inventa dados, nunca
                    copia campos entre documentos, nunca assume valores faltantes.</p>
            </div>
            <div class="how-steps">
                <div class="how-step">
                    <span class="step-icon">üì§</span>
                    <div class="how-step-num">Passo 01</div>
                    <h3>Voc√™ faz o upload</h3>
                    <p>Envie o Bill of Lading, a Commercial Invoice e (opcionalmente) o Packing List. Aceitamos PDF,
                        Excel, JPG e PNG sem convers√£o pr√©via.</p>
                </div>
                <div class="how-step">
                    <span class="step-icon">üß†</span>
                    <div class="how-step-num">Passo 02</div>
                    <h3>O agente l√™ tudo</h3>
                    <p>O Gemini AI l√™ todas as p√°ginas de cada documento de forma independente. Extrai shipper,
                        consignee, CNPJ, NCM, volumes, peso e CBM com regras r√≠gidas de n√£o-alucina√ß√£o.</p>
                </div>
                <div class="how-step">
                    <span class="step-icon">üìä</span>
                    <div class="how-step-num">Passo 03</div>
                    <h3>Voc√™ recebe o relat√≥rio</h3>
                    <p>Um relat√≥rio completo mostra os dados extra√≠dos por documento, a compara√ß√£o cruzada entre eles e
                        a valida√ß√£o do CNPJ na Receita Federal ‚Äî em segundos.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- ‚ñë‚ñë HOW TO USE ‚ñë‚ñë -->
    <section class="use-sect" id="use">
        <div class="wrap">
            <div>
                <div class="section-eyebrow">Como usar</div>
                <h2 class="section-title">Simples como<br>arrastar e clicar.</h2>
                <p class="section-sub">N√£o √© preciso nenhuma configura√ß√£o t√©cnica. Basta ter os documentos em m√£os.</p>
            </div>
            <div class="use-list">
                <div class="use-item">
                    <div class="use-num">1</div>
                    <div class="use-content">
                        <h3>Prepare os documentos</h3>
                        <p>Tenha em m√£os o BL (Bill of Lading) e a Commercial Invoice. O Packing List √© opcional mas
                            melhora a an√°lise. Os arquivos podem estar em PDF, Excel ou imagem.</p>
                        <div><span class="use-tag">üìÑ PDF</span><span class="use-tag" style="margin-left:4px;">üìä
                                Excel</span><span class="use-tag" style="margin-left:4px;">üñº JPG / PNG</span></div>
                    </div>
                </div>
                <div class="use-item">
                    <div class="use-num">2</div>
                    <div class="use-content">
                        <h3>Fa√ßa o upload na plataforma</h3>
                        <p>Clique em cada card de upload abaixo e selecione o arquivo correspondente. BL e Invoice s√£o
                            obrigat√≥rios. O sistema identifica automaticamente o tipo de documento.</p>
                        <div><span class="use-tag">‚úÖ BL obrigat√≥rio</span><span class="use-tag"
                                style="margin-left:4px;">‚úÖ Invoice obrigat√≥rio</span><span class="use-tag"
                                style="margin-left:4px;">üî∂ Packing opcional</span></div>
                    </div>
                </div>
                <div class="use-item">
                    <div class="use-num">3</div>
                    <div class="use-content">
                        <h3>Clique em "Executar Verifica√ß√£o"</h3>
                        <p>O agente de IA processa os arquivos, extrai todos os campos relevantes e compara os dados
                            entre os documentos. O processo leva entre 20 e 60 segundos dependendo do tamanho dos
                            arquivos.</p>
                        <div><span class="use-tag">‚ö° Gemini 2.5 Flash</span><span class="use-tag"
                                style="margin-left:4px;">üîí Processamento seguro</span></div>
                    </div>
                </div>
                <div class="use-item">
                    <div class="use-num">4</div>
                    <div class="use-content">
                        <h3>Analise o relat√≥rio</h3>
                        <p>Voc√™ ver√° os dados extra√≠dos por documento, a compara√ß√£o cruzada campo a campo e o status da
                            valida√ß√£o de CNPJ. Diverg√™ncias s√£o destacadas em vermelho para a√ß√£o imediata.</p>
                        <div><span class="use-tag">‚úì Match em verde</span><span class="use-tag"
                                style="margin-left:4px;">‚úó Diverg√™ncia em vermelho</span></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ‚ñë‚ñë APP SECTION ‚ñë‚ñë -->
    <section class="app-sect" id="app">
        <div class="wrap">
            <div style="text-align:center;margin-bottom:40px;">
                <div class="section-eyebrow">Plataforma</div>
                <h2 class="section-title">Pronto para verificar?</h2>
                <p class="section-sub" style="margin:0 auto;">Fa√ßa o upload dos seus documentos e receba o relat√≥rio
                    completo em segundos.</p>
            </div>

            <div class="app-inner">
                <div class="app-top-bar">
                    <div class="app-top-title">
                        <span style="font-size:16px;">üõÉ</span>
                        DocVerify AI ‚Äî Verificador de Documentos
                    </div>
                    <div class="app-top-status" id="statusPill2">
                        <span style="font-size:11px;color:var(--text-2)">Verificando servidor...</span>
                    </div>
                </div>
                <div class="app-body">
                    <!-- Upload -->
                    <div class="upload-grid">
                        <label for="blFile" class="upload-slot" id="blCard">
                            <div class="upload-slot-icon">üìÑ</div>
                            <div class="upload-slot-label">Bill of Lading</div>
                            <div class="upload-slot-hint">PDF, XLSX, JPG ‚Äî Obrigat√≥rio</div>
                            <div class="upload-fname" id="blFileName"></div>
                            <input type="file" id="blFile" accept=".pdf,.xlsx,.xls,.jpg,.jpeg,.png">
                        </label>
                        <label for="invoiceFile" class="upload-slot" id="invoiceCard">
                            <div class="upload-slot-icon">üìã</div>
                            <div class="upload-slot-label">Commercial Invoice</div>
                            <div class="upload-slot-hint">PDF, XLSX, JPG ‚Äî Obrigat√≥rio</div>
                            <div class="upload-fname" id="invoiceFileName"></div>
                            <input type="file" id="invoiceFile" accept=".pdf,.xlsx,.xls,.jpg,.jpeg,.png">
                        </label>
                        <label for="packingFile" class="upload-slot" id="packingCard">
                            <div class="upload-slot-icon">üì¶</div>
                            <div class="upload-slot-label">Packing List</div>
                            <span class="upload-optional">Opcional</span>
                            <div class="upload-slot-hint">PDF, XLSX, JPG</div>
                            <div class="upload-fname" id="packingFileName"></div>
                            <input type="file" id="packingFile" accept=".pdf,.xlsx,.xls,.jpg,.jpeg,.png">
                        </label>
                    </div>

                    <button class="btn-process" id="processBtn" disabled>
                        ‚ö° Executar Verifica√ß√£o com IA
                    </button>

                    <!-- Loader -->
                    <div class="loader" id="loading">
                        <div class="spinner"></div>
                        <div class="loader-headline">Analisando documentos</div>
                        <div class="loader-hint" id="progressText">Enviando para o servidor...</div>
                    </div>

                    <!-- Results -->
                    <div class="results" id="results">
                        <div class="score-bar">
                            <div class="score-chip total">
                                <div class="score-n" id="totalChecks">0</div>
                                <div class="score-l">Verifica√ß√µes</div>
                            </div>
                            <div class="score-chip ok">
                                <div class="score-n" id="passedChecks">0</div>
                                <div class="score-l">Conformes</div>
                            </div>
                            <div class="score-chip fail">
                                <div class="score-n" id="failedChecks">0</div>
                                <div class="score-l">Diverg√™ncias</div>
                            </div>
                        </div>

                        <div id="cnpjValidation"></div>

                        <div
                            style="font-size:12px;font-weight:700;text-transform:uppercase;letter-spacing:.06em;color:var(--text-3);margin:20px 0 12px;">
                            üìù Dados Extra√≠dos por IA
                        </div>
                        <div id="extractedData"></div>

                        <div id="comparisonResults"></div>

                        <div class="action-bar">
                            <button id="reverifyBtn" class="btn-ghost">üîÑ Reverificar</button>
                            <button id="clearBtn" class="btn-ghost">üóëÔ∏è Limpar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ‚ñë‚ñë FOOTER ‚ñë‚ñë -->
    <footer>
        <p><strong>DocVerify AI</strong> ‚Äî Powered by Gemini AI ¬∑ Compliance Receita Federal ¬∑ Vers√£o 3.0 PRO</p>
        <p style="margin-top:6px;">Feito para despachantes aduaneiros, importadores e analistas de com√©rcio exterior.
        </p>
    </footer>

    <script>
        const API_URL = 'http://localhost:5000/api';
        let files = {};

        // ‚îÄ‚îÄ Upload
        ['bl', 'invoice', 'packing'].forEach(t => {
            document.getElementById(`${t}File`).addEventListener('change', e => {
                const f = e.target.files[0]; if (!f) return;
                files[t] = f;
                const el = document.getElementById(`${t}FileName`);
                el.textContent = f.name; el.style.display = 'block';
                document.getElementById(`${t}Card`).classList.add('has-file');
                updateBtn();
            });
        });
        function updateBtn() {
            document.getElementById('processBtn').disabled = !(files.bl && files.invoice);
        }

        // ‚îÄ‚îÄ Process
        document.getElementById('processBtn').addEventListener('click', async () => {
            try {
                showLoader(true); hideResults();
                setProgress('Enviando arquivos para o servidor...');
                const fd = new FormData();
                Object.entries(files).forEach(([t, f]) => fd.append(t, f));
                setProgress('Consultando Gemini AI...');
                const r = await fetch(`${API_URL}/process-complete`, { method: 'POST', body: fd });
                if (!r.ok) throw new Error(`Erro ${r.status}`);
                const d = await r.json();
                if (!d.success) throw new Error(d.error || 'Falha');
                renderResults(d.report);
                showLoader(false); showResults();
                setStatus('ok', '‚úì Processado com sucesso');
                document.getElementById('results').scrollIntoView({ behavior: 'smooth', block: 'start' });
            } catch (e) {
                showLoader(false);
                setStatus('err', '‚úó ' + e.message);
            }
        });

        function renderResults(rep) {
            const c = rep.comparison;
            document.getElementById('totalChecks').textContent = c.total_checks;
            document.getElementById('passedChecks').textContent = c.passed;
            document.getElementById('failedChecks').textContent = c.failed;
            if (rep.cnpj_validation) renderCNPJ(rep.cnpj_validation);
            renderExtracted(rep.extracted_data);
            renderComparison(c);
        }

        function renderCNPJ(v) {
            document.getElementById('cnpjValidation').innerHTML = `
<div class="cnpj-block">
    <div class="cnpj-block-header">
        üè¢ Valida√ß√£o de CNPJ
        <span class="rbadge ${v.valid ? 'match' : 'mismatch'}">${v.valid ? '‚úì Ativo' : '‚úó Inv√°lido'}</span>
    </div>
    ${v.valid ? `<div class="cnpj-grid">
        ${cf('CNPJ', v.cnpj)}${cf('Raz√£o Social', v.razao_social)}${cf('Situa√ß√£o', v.situacao)}${cf('Cidade/UF', v.cidade && v.estado ? v.cidade + '/' + v.estado : null)}
    </div>`: `<div style="padding:14px 18px;font-size:12px;color:var(--red);">${v.error || 'CNPJ n√£o encontrado na RFB'}</div>`}
</div>`;
        }
        function cf(l, v) { return `<div class="cnpj-f"><div class="f-l">${l}</div><div class="f-v${!v ? ' null' : ''}">${v || '‚Äî'}</div></div>` }

        function renderExtracted(data) {
            const meta = { bl: { l: 'Bill of Lading', dot: 'bl-dot', icon: 'üìÑ' }, invoice: { l: 'Commercial Invoice', dot: 'inv-dot', icon: 'üìã' }, packing: { l: 'Packing List', dot: 'pk-dot', icon: 'üì¶' } };
            const skip = ['extraction_method', 'confidence', 'raw_text'];
            let html = '';
            Object.entries(data).forEach(([t, d]) => {
                const m = meta[t];
                const flds = Object.entries(d).filter(([k]) => !skip.includes(k));
                html += `<div class="doc-card">
<div class="doc-card-head">
    <div class="doc-card-title"><div class="type-dot ${m.dot}"></div>${m.icon} ${m.l}</div>
    <span class="method-badge">${d.extraction_method || 'AI Extracted'}</span>
</div>
<div class="doc-fields">
${flds.map(([k, v]) => `<div class="doc-f"><div class="f-l">${fmt(k)}</div><div class="f-v${v === null || v === undefined ? ' null' : ''}">${v !== null && v !== undefined ? v : '‚Äî'}</div></div>`).join('')}
</div></div>`;
            });
            document.getElementById('extractedData').innerHTML = html;
        }

        function renderComparison(c) {
            const rows = c.details.map(d => `<tr>
<td>${d.field}</td>
<td>${d.values.BL !== undefined ? d.values.BL : '‚Äî'}</td>
<td>${d.values.Invoice !== undefined ? d.values.Invoice : '‚Äî'}</td>
<td>${d.values.Packing !== undefined ? d.values.Packing : '‚Äî'}</td>
<td><span class="rbadge ${d.status}">${d.status === 'match' ? '‚úì Match' : '‚úó Diverg√™ncia'}</span></td>
</tr>`).join('');
            document.getElementById('comparisonResults').innerHTML = `
<div class="cmp-block">
<div class="cmp-block-head">üîç Compara√ß√£o entre Documentos</div>
<div class="cmp-scroll">
<table class="cmp-table">
<thead><tr><th>Campo</th><th>Bill of Lading</th><th>Invoice</th><th>Packing List</th><th>Status</th></tr></thead>
<tbody>${rows}</tbody>
</table></div></div>`;
        }

        // Helpers
        function fmt(k) { return k.replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase()) }
        function setProgress(m) { document.getElementById('progressText').textContent = m }
        function showLoader(s) { document.getElementById('loading').classList.toggle('show', s) }
        function showResults() { document.getElementById('results').classList.add('show') }
        function hideResults() { document.getElementById('results').classList.remove('show') }

        function setStatus(type, msg) {
            // nav pill
            const p = document.getElementById('statusPill');
            p.className = `nav-status ${type}`;
            p.innerHTML = `<span class="dot${type === 'loading' ? ' blink' : ''}"></span> ${msg}`;
            // app bar status
            const p2 = document.getElementById('statusPill2');
            const colorMap = { ok: 'var(--green)', err: 'var(--red)', loading: 'var(--text-2)' };
            p2.innerHTML = `<span style="font-size:11px;font-weight:600;color:${colorMap[type] || 'var(--text-2)'};">${msg}</span>`;
        }

        // Reverify
        document.getElementById('reverifyBtn').addEventListener('click', async () => {
            try {
                showLoader(true); hideResults();
                setProgress('Reverificando com Gemini...');
                const fd = new FormData();
                Object.entries(files).forEach(([t, f]) => fd.append(t, f));
                const r = await fetch(`${API_URL}/reverify`, { method: 'POST', body: fd });
                const d = await r.json();
                if (!d.success) throw new Error('Falhou');
                renderResults(d.report); showResults();
                setStatus('ok', '‚úì Reverificado');
            } catch (e) { setStatus('err', '‚úó ' + e.message); }
            finally { showLoader(false); }
        });

        // Clear
        document.getElementById('clearBtn').addEventListener('click', () => {
            files = {};
            ['bl', 'invoice', 'packing'].forEach(t => {
                document.getElementById(`${t}Card`).classList.remove('has-file');
                const el = document.getElementById(`${t}FileName`); el.textContent = ''; el.style.display = 'none';
                document.getElementById(`${t}File`).value = '';
            });
            hideResults(); updateBtn();
            setStatus('ok', '‚úì Pronto para analisar');
        });

        // Health
        fetch(`${API_URL}/health`)
            .then(r => r.json())
            .then(d => {
                if (d.ai_enabled) setStatus('ok', '‚úì Servidor AI online');
                else setStatus('err', '‚ö† GEMINI_API_KEY ausente');
            })
            .catch(() => setStatus('err', '‚úó Servidor offline ‚Äî localhost:5000'));
    </script>
</body>

</html>
